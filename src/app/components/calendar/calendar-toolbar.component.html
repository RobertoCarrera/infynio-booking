<div class="calendar-toolbar" role="toolbar" aria-label="Calendar controls">
  <div class="nav-group" role="group" aria-label="Navegación de fechas">
    <button *ngIf="!isMobile" class="btn btn-sm" type="button" (click)="onPrev()" aria-label="Anterior">
      <i class="bi bi-chevron-left"></i>
    </button>
    <button class="btn btn-sm btn-outline" type="button" (click)="onToday()" aria-label="Hoy">Hoy</button>
    <button *ngIf="!isMobile" class="btn btn-sm" type="button" (click)="onNext()" aria-label="Siguiente">
      <i class="bi bi-chevron-right"></i>
    </button>
    <div class="current-range" aria-live="polite">{{ currentRangeLabel }}</div>
  </div>

  <!-- Desktop: show view controls in the toolbar. On mobile, views are inside the filters modal. -->
  <div *ngIf="!isMobile" class="view-group" role="group" aria-label="Seleccionar vista">
    <button class="btn btn-sm" type="button" [attr.aria-pressed]="currentView==='day'" (click)="onChangeView('day')">Día</button>
    <button class="btn btn-sm" type="button" [attr.aria-pressed]="currentView==='week'" (click)="onChangeView('week')">Semana</button>
    <button class="btn btn-sm" type="button" [attr.aria-pressed]="currentView==='month'" (click)="onChangeView('month')">Mes</button>
  </div>

  <div class="actions-group" role="group" aria-label="Acciones">
    <button #filtersBtn class="btn btn-sm d-flex align-items-center gap-2 filters-btn" type="button" (click)="onToggleFiltersWithRipple()" [attr.aria-pressed]="filtersCollapsed ? 'true' : 'false'" [class.ripple]="rippleActive">
      <i class="bi bi-funnel-fill"></i>
      <span class="filters-label" *ngIf="!isMobile">Filtros</span>
      <i *ngIf="!isMobile" class="fas fa-chevron-down chevron" [class.rotated]="filtersCollapsed"></i>
    </button>
  </div>
  <!-- Hidden live region for announcements (screen readers) -->
  <div class="sr-only" aria-live="polite" aria-atomic="true">{{ currentView }} {{ currentRangeLabel }}</div>
</div>
