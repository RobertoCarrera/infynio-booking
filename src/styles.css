@import "../node_modules/bootstrap/dist/css/bootstrap.min.css";
@import url("https://cdn.jsdelivr.net/npm/bootstrap-icons@1.13.1/font/bootstrap-icons.min.css");
/* FullCalendar core stylesheet (CDN fallback) - loads FullCalendar v6 styles so
  timeGrid/dayGrid render properly. Using CDN avoids bundler resolution issues.
*/
@import url("https://cdn.jsdelivr.net/npm/fullcalendar@6.1.19/main.min.css");

/* Calendar global rules removed per request.
  If calendar-specific styling is needed later, add a dedicated file such as
  src/app/components/calendar/calendar-overrides.css and import it only where used. */

/* --- Admin: disable page-level vertical scrolling for admin routes --- */
/* Add .route-admin to <body> when on any admin route; these rules completely
   disable document-level vertical scrolling while allowing internal scrollable
   regions (like .tabla-usuarios and .mobile-list-viewport) to keep their own
   scrollbars and scrolling behaviour. */
html.route-admin, body.route-admin {
  overflow: hidden !important;
  height: 100% !important;
}

/* Ensure the app shell/main don't introduce page-level scrolling */
body.route-admin .app-shell,
body.route-admin .app-main {
  overflow: hidden !important;
  height: 100% !important;
}

/* Explicitly enable internal scrollable containers used in admin views */
body.route-admin .tabla-usuarios,
body.route-admin .mobile-list-viewport,
body.route-admin .mobile-list-scroll {
  overflow-y: auto !important;
  -webkit-overflow-scrolling: touch;
}

/* Calendar behaviour is now controlled by FullCalendar options in
  src/app/admin/calendar/admin-calendar.component.ts (slotMinTime, hiddenDays,
  businessHours). Removed the global CSS overrides to allow native rendering. */

/* User calendar layout: ensure containers provide height so FullCalendar can render */
.calendar-container {
  display: flex;
  flex-direction: column;
  min-height: 0;
  height: 100vh; /* occupy viewport height beneath the app header */
}

.calendar-body {
  flex: 1 1 auto;
  min-height: 0; /* allow children to shrink and scrollers to size */
  display: flex;
}

.calendar-main {
  flex: 1 1 auto;
  min-height: 0;
  display: flex;
  flex-direction: column;
}

.calendar-content {
  flex: 1 1 auto;
  min-height: 0;
  display: flex;
  flex-direction: column;
}

full-calendar {
  flex: 1 1 auto;
  min-height: 0;
  height: 100%;
  display: block;
}

/* FullCalendar containers must have height: make root and harness fill */
::ng-deep .fc,
::ng-deep .fc-view-harness {
  height: 100% !important;
}

/* Fallback: ensure a visible minimum height for the calendar grid */
::ng-deep .fc-view-harness {
  min-height: 560px !important;
}

/* Mobile filters overlay: ensure it never affects desktop layout */
@media (min-width: 992px) {
  .mobile-filters-backdrop,
  .mobile-filters-panel { display: none !important; }
}

/* On mobile, keep them out of normal flow and only visible when .open */
@media (max-width: 991.98px) {
  .mobile-filters-backdrop {
    display: none;
    position: fixed;
    inset: 0;
    background: rgba(0,0,0,0.35);
    z-index: 3000;
  }
  .mobile-filters-backdrop.open { display: block; }

  .mobile-filters-panel {
    position: fixed;
    top: 0;
    right: 0;
    height: 100%;
    width: min(85vw, 360px);
    background: #fff;
    transform: translateX(100%);
    transition: transform .2s ease;
    z-index: 3001;
    display: block; /* present but off-screen until .open */
    overflow-y: auto;
    -webkit-overflow-scrolling: touch;
  }
  .mobile-filters-panel.open { transform: translateX(0); }
}

/* Make slots more compact so 07:00â€“21:00 fits better in common viewports */
.calendar-container ::ng-deep .fc .fc-timegrid-slot,
.calendar-container ::ng-deep .fc .fc-timegrid-slots {
  --fc-timegrid-slot-height: 36px !important; /* default ~48px; tighter */
}

/* On smaller heights, compact further */
@media (max-height: 800px) {
  .calendar-container ::ng-deep .fc .fc-timegrid-slot,
  .calendar-container ::ng-deep .fc .fc-timegrid-slots {
  --fc-timegrid-slot-height: 32px !important;
  }
}

@media (max-height: 680px) {
  .calendar-container ::ng-deep .fc .fc-timegrid-slot,
  .calendar-container ::ng-deep .fc .fc-timegrid-slots {
  --fc-timegrid-slot-height: 28px !important;
  }
}

/* Ensure the inner FullCalendar scroller can scroll if needed */
.calendar-container ::ng-deep .fc .fc-scroller {
  overflow-y: auto !important; /* let browser show scrollbar only when needed */
  -webkit-overflow-scrolling: touch !important;
}

/* Ensure the grid stretches to the available height so the inner scroller activates */
.calendar-container ::ng-deep .fc-scrollgrid,
.calendar-container ::ng-deep .fc-timegrid,
.calendar-container ::ng-deep .fc-timegrid-body,
.calendar-container ::ng-deep .fc-timegrid-slots {
  height: 100% !important;
}
/* Ensure the scroller and day columns reflow when weekends are hidden */
::ng-deep .fc .fc-scroller,
::ng-deep .fc .fc-daygrid-day-frame,
::ng-deep .fc .fc-daygrid-day-events {
  box-sizing: border-box !important;
}

/* Optionally style visible slots to indicate business hours */
::ng-deep .fc .fc-timegrid-slot:not([style*="display: none"]) {
  background-color: transparent !important;
}

.fc .fc-scrollgrid-liquid{
  max-height: 85%;
}